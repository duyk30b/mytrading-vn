<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
		<meta name="description" content="" />
		<meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors" />
		<meta name="generator" content="Hugo 0.80.0" />
		<title>My Webhook</title>

		<!-- Bootstrap core CSS -->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" />
		<link href="/css/dashboard.css" rel="stylesheet" />
	</head>
	<body>
		<nav class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow">
			<a class="navbar-brand col-md-3 col-lg-2 mr-0 px-3" href="/">My Webhook 1.0</a>
			<button
				class="navbar-toggler position-absolute d-md-none collapsed"
				type="button"
				data-toggle="collapse"
				data-target="#sidebarMenu"
				aria-controls="sidebarMenu"
				aria-expanded="false"
				aria-label="Toggle navigation"
			>
				<span class="navbar-toggler-icon"></span>
			</button>
		</nav>

		<div class="container-fluid">
			<div class="row">
				<nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
					<div class="sidebar-sticky pt-3"></div>
				</nav>

				<main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-md-4">
					<div
						class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"
					>
						<h4>TradingView</h4>
					</div>
					<p>1. Create a link for use <bold>Webhook URL</bold> on Alert of TradingView</p>
					<div class="form-group row">
						<label for="inputEmail3" class="col-sm-2 col-form-label">- Insert Any word:</label>
						<div class="col-sm-10">
							<input
								type="text"
								class="form-control"
								id="input_path"
								placeholder="Example: tradingview-john2020"
							/>
						</div>
					</div>

					<div class="form-group row">
						<label class="col-sm-2 col-form-label">- Your link webhook: </label>
						<label class="col-sm-10 col-form-label"
							><a id="local_href" href="http://localhost:3000/">http://localhost:3000/</a></label
						>
					</div>

					<p>2. Set content Message on Alert of TradingView bellow:</p>
					<pre style="border: 1px solid; height: 250px; max-width: 750px; tab-size: 4">
{
	"passphrase": "somelongstring123",
	"time": "{{timenow}}",
	"exchange": "{{exchange}}",
	"ticker": "{{ticker}}",
	"bar": {
		"time": "{{time}}",
		"open": "{{open}}",
		"high": "{{high}}",
		"low": "{{low}}",
		"close": "{{close}}",
		"volume": "{{volume}}"
	},
	"Strateg": {
		"position_size": "{{Strateg.position_size}}",
		"order_action": "{{Strateg.order.action}}",
		"order_contuces": "{{Strateg.order.contuces}}",
		"order_price": "{{Strateg.order.price}}",
		"order_id": "{{Strateg.order.id}}",
		"order_comment": "{{Strateg.order.comment}}",
		"market_poseition": "{{Strateg.market_poseition}}",
		"market_poseition_size": "{{Strateg.market_poseition_size}}",
		"prev_market_poseition": "{{Strateg.prev_market_poseition}}",
		"prev_market_poseition_size": "{{Strateg.prev_market_poseition_size}}"
	}
}
					</pre
					>
					<div>
						<button class="btn btn-primary mb-5" id="btn_done">Done</button>
					</div>

					<script>
						let aHref = document.getElementById('local_href');
						let ipPath = document.getElementById('input_path');
						let btnDone = document.getElementById('btn_done');
						aHref.innerText = location.href;
						ipPath.onkeyup = () => {
							aHref.innerText = location.origin + '/' + ipPath.value;
							aHref.href = location.origin + '/' + ipPath.value;
						};
						btnDone.onclick = () => {
							let url = aHref.innerText;
							window.open(url, '_blank');
						};
					</script>
				</main>
			</div>
		</div>

		<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
		<script src="/js/dashboard.js"></script>
	</body>
</html>
